<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>After-Sales Service Directory</title>
  <style>
    :root{
      --bg:#0b1020; --card:#121a33; --muted:#9aa6c3; --text:#e8eeff;
      --line:rgba(255,255,255,.08); --btn:#1f2a55; --btn2:#26346b;
      --ok:#20c997; --warn:#ffcc00; --danger:#ff6b6b; --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC","Microsoft YaHei", Arial;
      background: radial-gradient(1200px 600px at 20% 0%, rgba(80,120,255,.22), transparent 60%),
                  radial-gradient(900px 500px at 90% 10%, rgba(32,201,151,.18), transparent 55%),
                  var(--bg);
      color:var(--text);
    }
    a{color:inherit; text-decoration:none}
    header{padding:22px 18px 10px; max-width:1100px; margin:0 auto;}
    .topbar{display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex-wrap:wrap;}
    .lang{
      display:flex; gap:6px; align-items:center;
      background:rgba(255,255,255,.06); border:1px solid var(--line);
      border-radius:999px; padding:6px;
    }
    .lang button{
      border:0; background:transparent; color:var(--text);
      padding:8px 12px; border-radius:999px; cursor:pointer; font-size:13px;
    }
    .lang button.active{background:rgba(80,120,255,.22);}
    h1{margin:0; font-size:20px; letter-spacing:.2px}
    .sub{margin-top:6px; color:var(--muted); font-size:13px; line-height:1.35; max-width:820px}
    .toolbar{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      padding:14px 18px 18px; max-width:1100px; margin:0 auto;
    }
    .search{
      flex:1 1 280px; display:flex; align-items:center; gap:10px;
      background:rgba(255,255,255,.06); border:1px solid var(--line);
      border-radius:999px; padding:10px 14px;
    }
    .search input{
      width:100%; border:0; outline:none; background:transparent; color:var(--text);
      font-size:14px;
    }
    .pill{
      padding:10px 12px; border-radius:999px; border:1px solid var(--line);
      background:rgba(255,255,255,.06); color:var(--text); font-size:13px;
      cursor:pointer; user-select:none;
    }
    .pill.active{ background:rgba(80,120,255,.22); border-color:rgba(80,120,255,.35);}
    .meta{color:var(--muted); font-size:12px; margin-left:auto}
    main{padding:0 18px 34px; max-width:1100px; margin:0 auto;}
    .group{margin-top:14px;}
    .group h2{margin:18px 0 10px; font-size:14px; color:var(--muted); font-weight:600;}
    .grid{display:grid; grid-template-columns:repeat(12, 1fr); gap:12px;}
    .card{
      grid-column: span 12;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:14px 14px 12px;
    }
    @media (min-width: 760px){ .card{grid-column: span 6;} }
    @media (min-width: 1020px){ .card{grid-column: span 4;} }
    .row{display:flex; align-items:flex-start; justify-content:space-between; gap:10px;}
    .name{font-size:15px; font-weight:700; letter-spacing:.2px;}
    .note{font-size:12px; color:var(--warn); margin-top:2px;}
    .kv{margin-top:10px; display:grid; grid-template-columns:96px 1fr; gap:6px 10px; font-size:13px;}
    .k{color:var(--muted)}
    .v a{text-decoration:underline; text-underline-offset:3px;}
    .actions{margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;}
    .btn{
      background:var(--btn); border:1px solid var(--line); color:var(--text);
      padding:8px 10px; border-radius:12px; font-size:13px; cursor:pointer;
    }
    .btn:hover{background:var(--btn2)}
    .toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:rgba(0,0,0,.62); border:1px solid var(--line); color:var(--text);
      padding:10px 12px; border-radius:999px; font-size:13px; display:none;
      max-width:90vw; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .muted{color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <div>
        <h1 id="title"></h1>
        <div class="sub" id="subtitle"></div>
      </div>
      <div class="lang" aria-label="Language switch">
        <button id="btnZh" type="button">ä¸­æ–‡</button>
        <button id="btnEn" type="button">EN</button>
      </div>
    </div>
  </header>

  <section class="toolbar">
    <div class="search">
      <span class="muted">ðŸ”Ž</span>
      <input id="q" />
    </div>
    <div id="filters" style="display:flex; gap:8px; flex-wrap:wrap;">
      <div class="pill active" data-filter="all" id="fAll"></div>
      <div class="pill" data-filter="emailOnly" id="fEmailOnly"></div>
      <div class="pill" data-filter="hasPhone" id="fHasPhone"></div>
    </div>
    <div class="meta" id="count"></div>
  </section>

  <main id="app"></main>
  <div class="toast" id="toast"></div>

<script>
const DATA = [{"supplier": "", "link": "", "emails": [], "email_raw": "", "phone_disp": "", "phone_tel": "", "notes": ""}, {"supplier": "B+S", "link": "https://bscommercialkitchens.com/request-a-warranty-service-call/", "emails": ["clientservices@bscommercialkitchens.com", "spareparts@bscommercialkitchens.com"], "email_raw": "clientservices@bscommercialkitchens.com and spareparts@bscommercialkitchens.com", "phone_disp": "P: +61 3 9469 4754", "phone_tel": "+61394694754", "notes": "EMAIL only"}, {"supplier": "BIRKO / ZIP", "link": "https://www.zipwater.com/book-a-service", "emails": ["services@zipwater.com"], "email_raw": "services@zipwater.com", "phone_disp": "1800 460 222", "phone_tel": "1800460222", "notes": "email only"}, {"supplier": "BROMIC", "link": "https://booking.mendrhub.com/?tenantid=ca54bc84-448c-44d6-8625-60853b6fd8c0&tid=13101219-4e99-4aa1-9184-7560dd1bc280", "emails": ["service@bromic.com"], "email_raw": "service@bromic.com", "phone_disp": "02 9426 5222", "phone_tel": "0294265222", "notes": "email only"}, {"supplier": "CMT", "link": "https://coffeemachinetechnologies.com.au/service/", "emails": ["ops@coffeemachinetechnologies.com.au"], "email_raw": "ops@coffeemachinetechnologies.com.au", "phone_disp": "phone +61420 680 861", "phone_tel": "+61420680861", "notes": ""}, {"supplier": "COMCATER", "link": "https://www.comcater.com.au/service/", "emails": ["service@comcater.com.au"], "email_raw": "service@comcater.com.au", "phone_disp": "1800 810 161.", "phone_tel": "1800810161", "notes": ""}, {"supplier": "FSM", "link": "https://fsm-pl.com.au/book-a-service/", "emails": ["service@fsm-pl.com.au"], "email_raw": "FSM Service <service@fsm-pl.com.au>", "phone_disp": "", "phone_tel": "", "notes": ""}, {"supplier": "HOSHIZAKI", "link": "https://hoshizaki.com.au/warranty-request/", "emails": ["lancerservice@lancerworldwide.com"], "email_raw": "lancerservice@lancerworldwide.com", "phone_disp": "1300 551 361", "phone_tel": "1300551361", "notes": ""}, {"supplier": "ICE", "link": "https://www.internationalcatering.com.au/warranty-claim/", "emails": ["Tracey@InternationalCatering.com.au"], "email_raw": "Tracey@InternationalCatering.com.au", "phone_disp": "P: +612 8372 0800", "phone_tel": "+61283720800", "notes": ""}, {"supplier": "MEIKO", "link": "https://www.meiko.com/en-au/service/book-a-service", "emails": ["service@meiko.com.au"], "email_raw": "service@meiko.com.au", "phone_disp": "1300 562 500", "phone_tel": "1300562500", "notes": ""}, {"supplier": "MIDDLEBY", "link": "https://booking.mendrhub.com/?tenantid=13101219-4e99-4aa1-9184-7560dd1bc280&tid=3cf0b526-5f86-42d8-815b-2ad22f0ce67a", "emails": ["service@middleby.com.au"], "email_raw": "service@middleby.com.au", "phone_disp": "P +61 2 9604 7333 | 1800 013 123", "phone_tel": "+612960473331800013123", "notes": ""}, {"supplier": "MOFFAT", "link": "https://www.moffat.com.au/lodge-service-booking-form", "emails": ["callcentre@moffat.com.au"], "email_raw": "callcentre@moffat.com.au", "phone_disp": "1300 264 217", "phone_tel": "1300264217", "notes": "submission either email or website not both"}, {"supplier": "PANASONIC / HUSSMAN", "link": "https://hussmann.com.au/support/warranty/", "emails": ["support.au@hussmann.com"], "email_raw": "support.au@hussmann.com", "phone_disp": "", "phone_tel": "", "notes": "email only"}, {"supplier": "ROBAND", "link": "https://www.roband.com.au/warranty-request/", "emails": ["spares@roband.com.au"], "email_raw": "spares@roband.com.au", "phone_disp": "1800 268 848", "phone_tel": "1800268848", "notes": "email or phone or online form- mostly email"}, {"supplier": "ROBOT COUPE", "link": "https://robotcoupe.au/", "emails": ["Services@robotcoupe.com.au"], "email_raw": "Services@robotcoupe.com.au", "phone_disp": "1800 762 682", "phone_tel": "1800762682", "notes": "back to base warranty -ask customer to book as cc details needed"}, {"supplier": "SCOTS ICE", "link": "", "emails": ["service@scotsice.com.au"], "email_raw": "service@scotsice.com.au", "phone_disp": "1800 222 460 | (02) 9684 5666", "phone_tel": "18002224600296845666", "notes": "EMAIL"}, {"supplier": "SIMCO", "link": "https://simcogroup.com.au/support", "emails": ["service@simcogroup.com.au", "jenny@simcogroup.com.au"], "email_raw": "service@simcogroup.com.au and jenny@simcogroup.com.au", "phone_disp": "(02) 8530 7696 or 1300 883 888", "phone_tel": "02853076961300883888", "notes": "all Simco service request must attach picking slip in the email"}, {"supplier": "SKOPE", "link": "https://booking.mendrhub.com/?tenantid=e32a23e5-8591-4f18-84db-c3dcafadc070&tid=ca54bc84-448c-44d6-8625-60853b6fd8c0", "emails": ["service.ssa@skopeservices.com.au"], "email_raw": "service.ssa@skopeservices.com.au", "phone_disp": "", "phone_tel": "", "notes": "EMAIL only as cc details needed"}, {"supplier": "STODDART", "link": "https://customerservice.stoddart.com.au/s/", "emails": ["service@stoddart.com.au"], "email_raw": "service@stoddart.com.au", "phone_disp": "1300 307 289", "phone_tel": "1300307289", "notes": ""}, {"supplier": "UNOX", "link": "email only", "emails": ["service@unoxaustralia.com.au"], "email_raw": "service@unoxaustralia.com.au", "phone_disp": "P. 03 9876 0803", "phone_tel": "0398760803", "notes": "service app can be downloadable by cust"}, {"supplier": "UROPA", "link": "https://booking.mendrhub.com/?tenantid=0d95fb74-2828-43f0-9108-b91c9f874190"
, "emails": ["Warranties@Uropa.com.au"], "email_raw": "Warranties@Uropa.com.au", "phone_disp": "1300 225 960", "phone_tel": "1300225960", "notes": "cust must submit online form"}, {"supplier": "WILLIAM REFRIGERATION", "link": "", "emails": ["customersupport@williamsref.com.au"], "email_raw": "customersupport@williamsref.com.au", "phone_disp": "", "phone_tel": "", "notes": "EMAIL"}, {"supplier": "WINTERHALTER", "link": "no website", "emails": ["service@winterhalter.com.au"], "email_raw": "service@winterhalter.com.au", "phone_disp": "02 9645 3221", "phone_tel": "0296453221", "notes": "EMAIL OR CALL only"}];

const I18N = {
  zh: {
    pageTitle: "åŽ‚å®¶å”®åŽç”³è¯·å…¥å£æ±‡æ€»",
    title: "åŽ‚å®¶å”®åŽç”³è¯·å…¥å£æ±‡æ€»",
    subtitle: "æœç´¢åŽ‚å®¶åç§° / é‚®ç®± / ç”µè¯ï¼›ç‚¹å‡»â€œæ‰“å¼€å”®åŽé¡µé¢â€è¿›å…¥å¯¹åº”åŽ‚å®¶åœ¨çº¿æŠ¥ä¿®å…¥å£ï¼›é‚®ç®±/ç”µè¯æ”¯æŒä¸€é”®å¤åˆ¶ã€‚",
    searchPlaceholder: "è¾“å…¥åŽ‚å®¶ / é‚®ç®± / ç”µè¯å…³é”®å­—â€¦",
    all: "å…¨éƒ¨",
    emailOnly: "ä»…é‚®ç®±",
    hasPhone: "æœ‰ç”µè¯",
    count: (n)=>`å…± ${n} æ¡`,
    groupHash: "#",
    kLink: "å”®åŽé“¾æŽ¥",
    kEmail: "é‚®ç®±",
    kPhone: "ç”µè¯",
    openLinkText: "æ‰“å¼€åœ¨çº¿æŠ¥ä¿®/å”®åŽé¡µé¢",
    btnOpen: "æ‰“å¼€å”®åŽé¡µé¢",
    btnCopyEmail: "å¤åˆ¶é‚®ç®±",
    btnCopyPhone: "å¤åˆ¶ç”µè¯",
    noMatch: "æ²¡æœ‰åŒ¹é…ç»“æžœã€‚è¯·æ›´æ¢å…³é”®å­—ã€‚",
    copied: (t)=>`å·²å¤åˆ¶ï¼š${t}`
  },
  en: {
    pageTitle: "After-Sales Service Directory",
    title: "After-Sales Service Directory",
    subtitle: "Search by supplier name, email, or phone. Click â€œOpen Service Pageâ€ to access the supplierâ€™s online service portal. Email/phone can be copied with one click.",
    searchPlaceholder: "Search supplier / email / phoneâ€¦",
    all: "All",
    emailOnly: "Email Only",
    hasPhone: "Has Phone",
    count: (n)=>`${n} items`,
    groupHash: "#",
    kLink: "Service Link",
    kEmail: "Email",
    kPhone: "Phone",
    openLinkText: "Open Service Page",
    btnOpen: "Open Service Page",
    btnCopyEmail: "Copy Email",
    btnCopyPhone: "Copy Phone",
    noMatch: "No results found. Try another keyword.",
    copied: (t)=>`Copied: ${t}`
  }
};

const $ = (id)=>document.getElementById(id);
let currentFilter = "all";
let lang = (localStorage.getItem("afterSalesLang") || (navigator.language||"").toLowerCase().startsWith("zh") ? "zh" : "en");

const toast = (msg)=>{
  const t = $("toast");
  t.textContent = msg;
  t.style.display = "block";
  clearTimeout(window.__toastTimer);
  window.__toastTimer = setTimeout(()=>t.style.display="none", 1800);
};

async function copyText(text){
  try {
    await navigator.clipboard.writeText(text);
    toast(I18N[lang].copied(text));
  } catch(e) {
    const ta = document.createElement("textarea");
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand("copy");
    ta.remove();
    toast(I18N[lang].copied(text));
  }
}

function groupByInitial(list){
  const groups = new Map();
  for (const item of list) {
    const ch = (item.supplier || "").trim().charAt(0).toUpperCase() || I18N[lang].groupHash;
    const key = /[A-Z]/.test(ch) ? ch : I18N[lang].groupHash;
    if (!groups.has(key)) groups.set(key, []);
    groups.get(key).push(item);
  }
  const keys = Array.from(groups.keys()).sort((a,b)=> a === I18N[lang].groupHash ? 1 : b === I18N[lang].groupHash ? -1 : a.localeCompare(b));
  return keys.map(k => [k, groups.get(k)]);
}

function matches(item, q){
  if (!q) return true;
  q = q.toLowerCase();
  const hay = [
    item.supplier, item.link, item.email_raw, item.phone_disp, item.notes, ...(item.emails||[])
  ].join(" ").toLowerCase();
  return hay.includes(q);
}

function passesFilter(item, filter){
  if (filter === "all") return true;
  if (filter === "emailOnly") {
    const n = (item.notes||"").toLowerCase();
    return n.includes("email only") || n.includes("email-only") || n.includes("ä»…é‚®ç®±") || (item.phone_tel||"") === "";
  }
  if (filter === "hasPhone") {
    return (item.phone_tel||"") !== "";
  }
  return true;
}

function escapeHtml(s){
  return (s||"")
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#39;");
}
function escapeJs(s){
  return (s||"").replaceAll("\\","\\\\").replaceAll("'","\\'").replaceAll("\n"," ");
}

function card(item){
  const T = I18N[lang];
  const emails = (item.emails||[]).map(e=>`<a href="mailto:${e}">${e}</a>`).join("<br>")
    || (item.email_raw ? escapeHtml(item.email_raw) : `<span class="muted">â€”</span>`);
  const phoneLink = item.phone_tel ? `<a href="tel:${item.phone_tel}">${escapeHtml(item.phone_disp||item.phone_tel)}</a>`
    : (item.phone_disp ? escapeHtml(item.phone_disp) : `<span class="muted">â€”</span>`);
  const note = item.notes ? `<div class="note">${escapeHtml(item.notes)}</div>` : "";
  const copyEmailBtn = (item.emails||[]).length ? `<button class="btn" type="button" onclick="copyText('${escapeJs(item.emails.join(', '))}')">${escapeHtml(T.btnCopyEmail)}</button>` : "";
  const copyPhoneBtn = item.phone_tel ? `<button class="btn" type="button" onclick="copyText('${escapeJs(item.phone_tel)}')">${escapeHtml(T.btnCopyPhone)}</button>` : "";

  return `
  <div class="card">
    <div class="row">
      <div>
        <div class="name">${escapeHtml(item.supplier)}</div>
        ${note}
      </div>
    </div>

    <div class="kv">
      <div class="k">${escapeHtml(T.kLink)}</div>
      <div class="v"><a href="${escapeHtml(item.link)}" target="_blank" rel="noopener">${escapeHtml(T.openLinkText)}</a></div>

      <div class="k">${escapeHtml(T.kEmail)}</div>
      <div class="v">${emails}</div>

      <div class="k">${escapeHtml(T.kPhone)}</div>
      <div class="v">${phoneLink}</div>
    </div>

    <div class="actions">
      <button class="btn" type="button" onclick="window.open('${escapeJs(item.link)}','_blank')">${escapeHtml(T.btnOpen)}</button>
      ${copyEmailBtn}
      ${copyPhoneBtn}
    </div>
  </div>`;
}

function applyI18n(){
  const T = I18N[lang];
  document.title = T.pageTitle;
  $("title").textContent = T.title;
  $("subtitle").textContent = T.subtitle;
  $("q").placeholder = T.searchPlaceholder;

  $("fAll").textContent = T.all;
  $("fEmailOnly").textContent = T.emailOnly;
  $("fHasPhone").textContent = T.hasPhone;

  $("btnZh").classList.toggle("active", lang==="zh");
  $("btnEn").classList.toggle("active", lang==="en");
}

function render(){
  const q = $("q").value.trim();
  const filtered = DATA.filter(it => matches(it,q) && passesFilter(it,currentFilter));
  $("count").textContent = I18N[lang].count(filtered.length);

  const groups = groupByInitial(filtered);
  const app = $("app");
  if (!filtered.length) {
    app.innerHTML = `<div class="card" style="padding:18px;">${escapeHtml(I18N[lang].noMatch)}</div>`;
    return;
  }

  app.innerHTML = groups.map(([k, items])=>`
    <section class="group">
      <h2>${escapeHtml(k)}</h2>
      <div class="grid">
        ${items.map(card).join("")}
      </div>
    </section>
  `).join("");
}

$("q").addEventListener("input", render);

document.querySelectorAll(".pill").forEach(p=>{
  p.addEventListener("click", ()=>{
    document.querySelectorAll(".pill").forEach(x=>x.classList.remove("active"));
    p.classList.add("active");
    currentFilter = p.dataset.filter;
    render();
  });
});

$("btnZh").addEventListener("click", ()=>{
  lang = "zh";
  localStorage.setItem("afterSalesLang", lang);
  applyI18n();
  render();
});
$("btnEn").addEventListener("click", ()=>{
  lang = "en";
  localStorage.setItem("afterSalesLang", lang);
  applyI18n();
  render();
});

applyI18n();
render();
</script>
</body>
</html>
